<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Airhockey</title>
    <link rel="stylesheet" type="text/css" href="../Style/styleNav.css">
    <link rel="stylesheet" type="text/css" href="../Style/styleSpiel.css">
    <!--<script src="../JavaScript/navbar.js" type="text/javascript"></script>-->
</head>
<body onload="startgame()">
    <div class="navbar">
        <a href="../index.html">Start</a>
        <a class="active" href="spiel.html">Spiel</a>
        <a href="spielanleitung.html">Spielanleitung</a>
        <a href="highscore.html">Highscore</a>
        <a href="impressum.html">Impressum</a>
    </div>
    <h1>Airhockey Beastmode</h1>
    <script>
        function startgame(){
            myGameArea.start();
            balken1 = new komponente(20, 100, "green", 360, 480);
        }
        var myGameArea = {
            canvas : document.createElement("canvas"),
            start: function() {
                this.canvas.width = 800;
                this.canvas.height = 500;
                this.context = this.canvas.getContext("2d");
                document.body.insertBefore(this.canvas, null);
                this.interval = setInterval(updateGameArea, 20);
                window.addEventListener("keydown" , function (e)  {
                    myGameArea.key = e.keyCode;
                })
                window.addEventListener("keyup" ,  function(e) {
                    myGameArea.key = false;
                })
            },
            clear : function(){
                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
            }

        }
        function komponente(width, height, color, x, y){
            this.width = width;
            this.height = height;
            this.speedX = 0;
            this.speedY = 0;
            this.x = x;
            this.y = y;
            this.update = function() {
                ctx = myGameArea.context;
                ctx.fillStyle = color;
                ctx.fillRect(this.x, this.y, this.height, this.width);
            }
            this.newPos = function(){
                this.x += this.speedX;
                this.y += this.speedY;
            }
        }
        function updateGameArea(){
            myGameArea.clear();
            balken1.speedX = 0;
            balken1.speedY = 0;
            if (myGameArea.key && myGameArea.key == 37) {balken1.speedX = -1; }
            if (myGameArea.key && myGameArea.key == 39) {balken1.speedX = 1; }
            if (myGameArea.key && myGameArea.key == 38) {balken1.speedY = -1; }
            if (myGameArea.key && myGameArea.key == 40) {balken1.speedY = 1; }
            balken1.newPos();
            balken1.update();

        }
    </script>

<p style="text-align: center">Bewege den Balken mit den Pfeiltasten :)</p>

</body>
</html>